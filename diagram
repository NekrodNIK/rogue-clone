classDiagram
    Entry *-- Controller
    Entry *-- View
    Entry *-- Model
    View <-- Model
    Model <--> Controller
    Action .. Model
    Action .. Controller
    Key .. Controller
    Effect .. View
    Effect .. Model
    class Model{
        +run(void)
        +apply(Action action)
    }
    class View{
        +apply(Effect effect)
    }
    class Controller {
        +tick()
    }

    class Action
    <<Abstract>> Action
    class Effect
    <<Abstract>> Effect
    class Key
    <<Abstract>> Key

    %% MODEL

    Model .. Structure
    Model .. Level
    Model .. Entity
    Model .. Item

    Structure <|-- Room
    Structure <|-- Corridor
    Structure <|-- CompundStructure
    Structure <|-- StructureView
    Level *.. Structure
    Level *.. StructureView
    Structure .. Entity

    Entity <|-- TickEntity
    TickEntity <|-- Player
    TickEntity <|-- Enemy
    Entity <|-- TileEntity

    TileEntity <|-- ItemEntity
    ItemEntity *.. Item

    TileEntity <|-- ExitEntity
    ExitEntity .. Level

    TileEntity <|-- TrapEntity
    TrapEntity .. TickEntity

    class Entity {
      +get_coordinates()
    }

    class TickEntity {
      +hurt()
    }

    Player .. Inventory
    Inventory .. Item
    Menu <|-- Inventory
    Item <|-- Weapon
    Item <|-- Armour
    Item <|-- Potion
    Item <|-- Food
    Item <|-- Currency
    Item <|-- Curio

    class Item {
      +use()
    }


    %% ACTIONS
    Action <|-- ActionMove
    Action <|-- ActionHit
    Action <|-- ActionOpenInventory

    ActionMove *-- Direction
    ActionHit *-- Direction
    ActionOpenInventory *.. Inventory

    class ActionMove {
        +Direction direction
    }

    class ActionHit {
        +Direction direction
    }

    %% EFFECTS
    Effect <|-- EffectClear
    Effect <|-- EffectMoveEntity
    Effect <|-- EffectLoadLevel
    Effect <|-- EffectShowStructure
    Effect <|-- EffectShow
    Effect <|-- EffectSpawnEntity

    EffectSpawnEntity *-- Entity
    EffectMoveEntity *-- Entity
    EffectMoveEntity *-- Direction
    EffectLoadLevel *-- Level
    EffectShowStructure *-- Structure
    EffectShowMenu *-- Menu

    class EffectSpawnEntity {
        +Entity entity
    }
    
    class EffectMoveEntity {
        +Entityy entity
        +direction
    }

    class EffectLoadLevel {
        +Level structures
    }

    class EffectShowStructure {
        +Room structure
    }

    class EffectShow {
        +Int x
        +Int y
    }
    
    class EffectShowMenu {
        +Menu menu
    }
